<!doctype html>
<html>
	<head>
		<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0'>
		<meta name='apple-mobile-web-app-capable' content='yes'>
		<meta name='apple-mobile-web-app-status-bar-style' content='black'>
		<meta name='format-detection' content='telephone=no'>
		<meta charset="utf-8">
		<title>爱的告白</title>
		<link href="css/style.css" rel="stylesheet" type="text/css">
		<style type='text/css'>img{width:100%;}	</style>
		<script src="js/jweixin-1.6.0.js" type="text/javascript" charset="utf-8"></script>
		<table style="width:100%;font-size:1.1em">
	</head>
	<body>
		<div id="envelopeWrap">
			<div class="card" id="envelope"></div>
			<span class="Open">Open</span>
		</div>
		<div class="chest" id="chest">
			<div class="heart left side top"></div>
			<div class="heart center"></div>
			<div class="heart right side"></div>
		</div>
		<div class="wrap" style="display: none;">
			<div style="position: fixed;left: 10px;bottom: 10px;text-align: center;width: 100%;">
				<div class="a" >I was enchanted to meet you</div>
			</div>
			<div class="imgWrap">
			<img src="images/speaknow-c.png"></img>
			</div>
			<div class="mb-box" id="mb-box" style="margin-top: 10px;">
				<div class="bb">
					<h2>to LCX</h2>
					<div class="bb_text">
						<div id="content" class="code">
						</div>
						<div id="contentLong" class="code" style="display: none">
							<div class="contentLongP">首先这次爱的告白，是我表明自己的心意，你无需有心理负担。只是像爱的告白演唱会开场白说的那样，I shouldn't wait,I should speak now.如果你接受了的话，那是一件我梦寐以求、相当开心的事，不接受的话，我也会释怀，我们仍是好朋友。</div>
							<div class="contentLongP">高三之前我没太注意你，其实在我眼里你很漂亮（现在也是），但是高三接触多了之后，打动我的还是你开朗、大方、乐观、纯真的性格，和你交流的开心，总之你在我青春年华里，有别人代替不了的感觉，让我有小鹿乱撞的心动。</div>
							<div class="contentLongP">高中毕业之后我也真的想表白，但是由于我的家庭、性格等原因，我晚了一步。看到你已经有了对象，我很伤心，但我只能祝福，我不会打破别人的平静。没能告白一直是我心中的遗憾。</div>
							<div class="contentLongP">这十年，我也告诉自己要放下，但我断断续续地有想到或者梦到你，我发现骗不了自己。这十年跟你都有所联系，一直保持着好朋友关系，怕朋友都做不成，就不敢问你情感进展和向你告白。</div>
							<div class="contentLongP">直到年前聊的深了，你说你单身，我的心一下就躁动了，我思绪万千，它意味着我可以合时宜地去弥补遗憾了。本来克林告别场我有些避嫌，不敢订邻座，但是听到你单身，最终我还是换到了邻座，我想确认是喜欢你，还是喜欢高中的感觉，毕竟十年变化很大。见了面之后，我确认是喜欢你，你本人。</div>
							<div class="contentLongP">我坐你车，问你车车型的事我道歉，确实讨人嫌了、涉及隐私了，我当时是想通过车确认你是什么样的层次，看我是不是匹配得上。毕竟我是想一辈子和你在一起，各种条件都需要考量。我现在有一定的条件，至少不会让你吃苦，也会努力让你、我都幸福，我想让你在我脑海里那个爱笑的模样一直保持下去。</div>
							<div class="contentLongP">我说过我单身还算幸福，但是能和喜欢的人在一起的话，我觉得还是比单身幸福多了。也说过如果够喜欢，啥要求我也能接受，你对我就是这样的一个人，我可以义无反顾地对你好。所以，我们能在一起吗？</div>
							<div class="contentLongP">就像霉霉唱的那样：</div>
							<div>I was enchanted to meet you</div>
							<div>Please don't be in love with someone else</div>
							<div>Please don't have somebody waiting on you</div>
							<div class="contentLast"></div>
						</div>
					</div>
					<p class="bb_myname">by Ming<br />
					</p>
				</div>
			</div>
		</div>
		<script src="js/eventEmitter.js"></script>
		<script src="js/autotype.js"></script>
		<script src="js/common.js"></script>
		<script src="js/soundjs.min.js"></script>
		<audio autoplay preload="auto"  loop id="audio">
			<source src="enchanted1.mp3" type="audio/mpeg"/>
			您的浏览器不支持音频播放。
		</audio>
		<script src="js/jquery-3.2.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
		<script>
			var arr = [
				{ type: 'wait', time: 1500 },
				// { type: 'nbsp' },
				{ type: 'text', text: "我对霉霉算起来大概是10年的喜欢吧，那对你就是10年+n天的喜欢。是的，我对霉霉是爱屋及乌的，我首先是喜欢你，今天我想把这迟到10年的告白讲给你。"},
				// { type: 'br' },
				// { type: 'nbsp' },
				// { type: 'text', text: "我这句虽然很想唱，但还是不要压力你了，你开心最重要！"},
				// { type: 'wait', time: 1000 },
				// { type: 'delete', num: 112,time: 20},
				
				// { type: 'wait', time: 900 },
				// { type: 'delete', num: 4},
				// { type: 'text', text: '，嗯!'},
				
				// { type: 'text', text: '她温柔美丽，善良大方'},
				// { type: 'text', text: '，国色天香，沉鱼落雁，如花似玉，闭月羞花，贤良淑德，花容月貌，秋水伊人，一笑倾城，冰清玉洁，娇俏佳人，朱颜玉润，玉骨冰肌，窈窕淑女，美若天仙，一顾倾城，才智国人，出水芙蓉，阿娇金屋，闭月羞花，逞娇呈美，春暖花香，春色满园……', time: 50},
				// { type: 'br' },
				// {type: 'text', text: '给你们看张她的照片吧~'},
				// { type: 'wait', time: 900 },
				// { type: 'img', src: 'img/bishi2.jpg', id: "cat", style: "width: 50%;display: block;margin-left: auto;margin-right: auto;margin-top: 20px;margin-bottom: 20px;" },
				// { type: 'wait', time: 900 },
				// { type: 'text', text: '是不是美美哒~' }

			]
			$(document).snowfall('clear');
			$(document).snowfall({
				image: "images/huaban.png",
				flakeCount:30,
				minSize: 5,
				maxSize: 22
			});
			$(document).one('WeixinJSBridgeReady', function () {
			    var audio = document.getElementById("audio");
			    audio.play(); //执行一次
			    audio.setAttribute('src', 'enchanted1.mp3'); // 替换src
			    audio.load();
			})
			// 监听摇晃事件简化版
			window.addEventListener('devicemotion', function () {
			    document.getElementById("audio").play(); // 成功播放
			}, false);
			function handleClick(){
				$('.Open').hide()
				$('#envelopeWrap').fadeOut(2500)
				$(".wrap").fadeIn(3000)
				$('#chest').animate({"left":"40px","top":"40px"},3000);
				var autoType = new AutoType("#content", arr, {
				// 设置打字时间，表示在无设置的情况下，打字间隔为 200ms
					speed: 150
				});
				autoType.once("end", function() {
					$('#contentLong').fadeIn(2000)
					console.log('事件结束');
				})
			}
			$('#envelope').click(function(){
				handleClick()
			});
			$('#chest').click(function(){
				handleClick()
			});
			$('.Open').click(function(){
				handleClick()
			});
		</script>
	</body>
</html>